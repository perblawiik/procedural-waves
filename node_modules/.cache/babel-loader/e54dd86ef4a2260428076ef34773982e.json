{"ast":null,"code":"var _jsxFileName = \"G:\\\\DOKUMENT\\\\Projekt\\\\React\\\\BlueBox\\\\client\\\\src\\\\js\\\\bluebox\\\\Engine.js\";\nimport React, { Component } from 'react';\nimport Shader from './Shader.js';\n\nclass Engine extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.startMainLoop();\n  }\n\n  componentWillUnmount() {\n    this.stopMainLoop();\n  }\n\n  preload() {\n    // 2D Canvas for text display\n    this.canvas2D = document.getElementById('text-canvas');\n    this.ctx = this.canvas2D.getContext('2d');\n    this.ctx.font = \"20px Consolas\";\n    this.ctx.fillStyle = 'white'; // WebGL canvas\n\n    this.canvas = document.getElementById(\"gl-canvas\"); // Initialize the WebGL context\n\n    this.gl = this.canvas.getContext(\"webgl\");\n    console.log(\"HEEEY\");\n    console.log(this.gl); // If WebGL isn't supported\n\n    if (!this.gl) {\n      console.log(\"WebGL is not supported\");\n      alert(\"Unable to initialize WebGL. Your browser or machine may not support it.\");\n      return 0;\n    }\n\n    this.gl.viewport(0, 0, this.canvas.width, this.canvas.height); // Set clear color to light blue, fully opaque\n\n    this.gl.clearColor(0.0, 0.40, 0.55, 1.0); // Enable depth so that triangles closer to the camera don't get overlapped by those further away\n\n    this.gl.enable(this.gl.DEPTH_TEST); // Only draw \"visible\" sides (memory saving)\n\n    this.gl.enable(this.gl.CULL_FACE);\n    this.gl.cullFace(this.gl.BACK);\n    this.gl.frontFace(this.gl.CCW);\n    this.mainShader = new Shader(this.canvas); //this.SetUpEventListeners();\n  }\n\n  startMainLoop() {\n    // Initiate the main loop\n    this.animationId = window.requestAnimationFrame(this.mainLoop.bind(this));\n  }\n\n  stopMainLoop() {\n    window.cancelAnimationFrame(this.animationId);\n    this.animationId = null;\n  }\n\n  mainLoop() {\n    this.animationId = window.requestAnimationFrame(this.mainLoop.bind(this)); // Keeps track of time passed and delta time\n    // Clear screen 3D\n\n    this.gl.clear(this.gl.DEPTH_BUFFER_BIT | this.gl.COLOR_BUFFER_BIT); // Clear screen 2D\n\n    this.ctx.clearRect(0, 25, this.props.width, this.props.height); // Draw objects\n    // Clear depth so that local coordinate axes is visible through models\n    // Draw local coordinate axes UI\n  }\n\n  render() {\n    const engine_container_style = {\n      display: 'flex',\n      flexDirection: 'column',\n      width: this.props.width + this.props.width / 2 + 20\n    };\n    return React.createElement(\"div\", {\n      className: \"Engine-container\",\n      style: engine_container_style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: this.props.width,\n        height: this.props.height\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"canvas\", {\n      id: \"gl-canvas\",\n      width: this.props.width,\n      height: this.props.height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Your browser does not support HTML5\"), React.createElement(\"canvas\", {\n      id: \"text-canvas\",\n      width: this.props.width,\n      height: this.props.height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Engine;","map":{"version":3,"sources":["G:\\DOKUMENT\\Projekt\\React\\BlueBox\\client\\src\\js\\bluebox\\Engine.js"],"names":["React","Component","Shader","Engine","constructor","props","componentDidMount","startMainLoop","componentWillUnmount","stopMainLoop","preload","canvas2D","document","getElementById","ctx","getContext","font","fillStyle","canvas","gl","console","log","alert","viewport","width","height","clearColor","enable","DEPTH_TEST","CULL_FACE","cullFace","BACK","frontFace","CCW","mainShader","animationId","window","requestAnimationFrame","mainLoop","bind","cancelAnimationFrame","clear","DEPTH_BUFFER_BIT","COLOR_BUFFER_BIT","clearRect","render","engine_container_style","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Shader from './Shader.js';\r\n\r\nclass Engine extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.startMainLoop();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stopMainLoop();\r\n    }\r\n\r\n    preload() {\r\n        // 2D Canvas for text display\r\n        this.canvas2D = document.getElementById('text-canvas');\r\n        this.ctx = this.canvas2D.getContext('2d');\r\n        this.ctx.font = \"20px Consolas\";\r\n        this.ctx.fillStyle = 'white';\r\n\r\n        // WebGL canvas\r\n        this.canvas = document.getElementById(\"gl-canvas\");\r\n        // Initialize the WebGL context\r\n        this.gl = this.canvas.getContext(\"webgl\");\r\n\r\n        console.log(\"HEEEY\");\r\n        console.log(this.gl);\r\n\r\n        // If WebGL isn't supported\r\n        if (!this.gl) {\r\n            console.log(\"WebGL is not supported\");\r\n            alert(\"Unable to initialize WebGL. Your browser or machine may not support it.\");\r\n            return 0;\r\n        }\r\n\r\n        this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\r\n        // Set clear color to light blue, fully opaque\r\n        this.gl.clearColor(0.0, 0.40, 0.55, 1.0);\r\n        // Enable depth so that triangles closer to the camera don't get overlapped by those further away\r\n        this.gl.enable(this.gl.DEPTH_TEST);\r\n        // Only draw \"visible\" sides (memory saving)\r\n        this.gl.enable(this.gl.CULL_FACE);\r\n        this.gl.cullFace(this.gl.BACK);\r\n        this.gl.frontFace(this.gl.CCW);\r\n\r\n        this.mainShader = new Shader(this.canvas);\r\n\r\n        //this.SetUpEventListeners();\r\n    }\r\n\r\n    startMainLoop() {\r\n        // Initiate the main loop\r\n        this.animationId = window.requestAnimationFrame( this.mainLoop.bind(this) );\r\n    }\r\n\r\n    stopMainLoop() {\r\n        window.cancelAnimationFrame( this.animationId );\r\n        this.animationId = null;\r\n    }\r\n\r\n    mainLoop() {\r\n        this.animationId = window.requestAnimationFrame( this.mainLoop.bind(this) );\r\n\r\n        // Keeps track of time passed and delta time\r\n\r\n        // Clear screen 3D\r\n        this.gl.clear(this.gl.DEPTH_BUFFER_BIT | this.gl.COLOR_BUFFER_BIT);\r\n        // Clear screen 2D\r\n        this.ctx.clearRect(0, 25, this.props.width, this.props.height);\r\n\r\n        // Draw objects\r\n\r\n        // Clear depth so that local coordinate axes is visible through models\r\n\r\n        // Draw local coordinate axes UI\r\n    }\r\n\r\n    render() {\r\n        const engine_container_style = {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            width: this.props.width+this.props.width/2+20\r\n        };\r\n\r\n        return (\r\n            <div className=\"Engine-container\" style={engine_container_style}>\r\n                <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                    <div style={{width: this.props.width, height: this.props.height}}>\r\n                        <canvas id='gl-canvas' width={this.props.width} height={this.props.height}>\r\n                            Your browser does not support HTML5\r\n                        </canvas>\r\n                        <canvas id=\"text-canvas\" width={this.props.width} height={this.props.height}>\r\n                        </canvas>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Engine;"]},"metadata":{},"sourceType":"module"}