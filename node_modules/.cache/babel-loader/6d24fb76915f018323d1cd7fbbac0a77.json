{"ast":null,"code":"import Transform from \"./Transform\";\nimport Vector3 from \"./math/Vector3\";\n\nclass Bullets {\n  constructor(bulletModel, bulletSpeed, bulletReach) {\n    this.activeBullets = [];\n    this.speed = bulletSpeed;\n    this.model = bulletModel;\n    this.reach = bulletReach;\n  }\n\n  addBullet(origin, position, direction) {\n    this.activeBullets.push({\n      origin: origin,\n      position: position,\n      direction: direction\n    });\n  }\n\n  update() {\n    let bulletTransform = new Transform();\n    let i = 0;\n\n    while (i < this.activeBullets.length) {\n      // Set bullets position and move it in the bullet direction\n      bulletTransform.setPosition(this.activeBullets[i].position);\n      bulletTransform.translate([this.activeBullets[i].direction.x * this.speed, this.activeBullets[i].direction.y * this.speed, this.activeBullets[i].direction.z * this.speed]); // Check distance from camera and bullet\n\n      if (Vector3.distance(bulletTransform.position, this.activeBullets[i].origin) < this.reach) {\n        // Save current position\n        this.activeBullets[i].position = [bulletTransform.position.x, bulletTransform.position.y, bulletTransform.position.z];\n        ++i;\n      } else {\n        // Remove bullet if distance is too great\n        this.activeBullets.splice(i, 1);\n      }\n    }\n  }\n\n  render(shader) {\n    this.activeBullets.forEach(bulletInfo => {\n      // Set bullet position\n      this.model.setPosition(bulletInfo.position); // Draw bullet\n\n      this.model.render(shader);\n    });\n  }\n\n}","map":{"version":3,"sources":["G:\\DOKUMENT\\Projekt\\React\\BlueBox\\client\\src\\js\\bluebox\\Bullets.js"],"names":["Transform","Vector3","Bullets","constructor","bulletModel","bulletSpeed","bulletReach","activeBullets","speed","model","reach","addBullet","origin","position","direction","push","update","bulletTransform","i","length","setPosition","translate","x","y","z","distance","splice","render","shader","forEach","bulletInfo"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAEA,MAAMC,OAAN,CAAc;AACVC,EAAAA,WAAW,CAAEC,WAAF,EAAeC,WAAf,EAA4BC,WAA5B,EAAyC;AAChD,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,KAAL,GAAaH,WAAb;AACA,SAAKI,KAAL,GAAaL,WAAb;AACA,SAAKM,KAAL,GAAaJ,WAAb;AACH;;AAEDK,EAAAA,SAAS,CAACC,MAAD,EAASC,QAAT,EAAmBC,SAAnB,EAA8B;AACnC,SAAKP,aAAL,CAAmBQ,IAAnB,CAAwB;AACpBH,MAAAA,MAAM,EAAEA,MADY;AAEpBC,MAAAA,QAAQ,EAAEA,QAFU;AAGpBC,MAAAA,SAAS,EAAEA;AAHS,KAAxB;AAKH;;AAEDE,EAAAA,MAAM,GAAG;AACL,QAAIC,eAAe,GAAG,IAAIjB,SAAJ,EAAtB;AACA,QAAIkB,CAAC,GAAG,CAAR;;AACA,WAAMA,CAAC,GAAG,KAAKX,aAAL,CAAmBY,MAA7B,EAAqC;AACjC;AACAF,MAAAA,eAAe,CAACG,WAAhB,CAA4B,KAAKb,aAAL,CAAmBW,CAAnB,EAAsBL,QAAlD;AACAI,MAAAA,eAAe,CAACI,SAAhB,CAA0B,CAAC,KAAKd,aAAL,CAAmBW,CAAnB,EAAsBJ,SAAtB,CAAgCQ,CAAhC,GAAoC,KAAKd,KAA1C,EAAiD,KAAKD,aAAL,CAAmBW,CAAnB,EAAsBJ,SAAtB,CAAgCS,CAAhC,GAAoC,KAAKf,KAA1F,EAAiG,KAAKD,aAAL,CAAmBW,CAAnB,EAAsBJ,SAAtB,CAAgCU,CAAhC,GAAoC,KAAKhB,KAA1I,CAA1B,EAHiC,CAKjC;;AACA,UAAIP,OAAO,CAACwB,QAAR,CAAiBR,eAAe,CAACJ,QAAjC,EAA2C,KAAKN,aAAL,CAAmBW,CAAnB,EAAsBN,MAAjE,IAA2E,KAAKF,KAApF,EAA2F;AACvF;AACA,aAAKH,aAAL,CAAmBW,CAAnB,EAAsBL,QAAtB,GAAiC,CAACI,eAAe,CAACJ,QAAhB,CAAyBS,CAA1B,EAA6BL,eAAe,CAACJ,QAAhB,CAAyBU,CAAtD,EAAyDN,eAAe,CAACJ,QAAhB,CAAyBW,CAAlF,CAAjC;AACA,UAAEN,CAAF;AACH,OAJD,MAKK;AAAE;AACH,aAAKX,aAAL,CAAmBmB,MAAnB,CAA0BR,CAA1B,EAA6B,CAA7B;AACH;AACJ;AACJ;;AAEDS,EAAAA,MAAM,CAACC,MAAD,EAAS;AACX,SAAKrB,aAAL,CAAmBsB,OAAnB,CAA4BC,UAAD,IAAgB;AACvC;AACA,WAAKrB,KAAL,CAAWW,WAAX,CAAuBU,UAAU,CAACjB,QAAlC,EAFuC,CAGvC;;AACA,WAAKJ,KAAL,CAAWkB,MAAX,CAAkBC,MAAlB;AACH,KALD;AAMH;;AA3CS","sourcesContent":["import Transform from \"./Transform\";\r\nimport Vector3 from \"./math/Vector3\";\r\n\r\nclass Bullets {\r\n    constructor (bulletModel, bulletSpeed, bulletReach) {\r\n        this.activeBullets = [];\r\n        this.speed = bulletSpeed;\r\n        this.model = bulletModel;\r\n        this.reach = bulletReach;\r\n    }\r\n\r\n    addBullet(origin, position, direction) {\r\n        this.activeBullets.push({\r\n            origin: origin,\r\n            position: position,\r\n            direction: direction\r\n        });\r\n    }\r\n\r\n    update() {\r\n        let bulletTransform = new Transform();\r\n        let i = 0;\r\n        while(i < this.activeBullets.length) {\r\n            // Set bullets position and move it in the bullet direction\r\n            bulletTransform.setPosition(this.activeBullets[i].position);\r\n            bulletTransform.translate([this.activeBullets[i].direction.x * this.speed, this.activeBullets[i].direction.y * this.speed, this.activeBullets[i].direction.z * this.speed]);\r\n\r\n            // Check distance from camera and bullet\r\n            if (Vector3.distance(bulletTransform.position, this.activeBullets[i].origin) < this.reach) {\r\n                // Save current position\r\n                this.activeBullets[i].position = [bulletTransform.position.x, bulletTransform.position.y, bulletTransform.position.z];\r\n                ++i;\r\n            }\r\n            else { // Remove bullet if distance is too great\r\n                this.activeBullets.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    render(shader) {\r\n        this.activeBullets.forEach((bulletInfo) => {\r\n            // Set bullet position\r\n            this.model.setPosition(bulletInfo.position);\r\n            // Draw bullet\r\n            this.model.render(shader);\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}