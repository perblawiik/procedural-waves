{"ast":null,"code":"var _jsxFileName = \"G:\\\\DOKUMENT\\\\Projekt\\\\React\\\\Waves\\\\procedural-waves\\\\src\\\\js\\\\bluebox\\\\gui\\\\EngineWindow.js\";\n\n/**\r\n * Author: Per Blåwiik\r\n * Date: 2019-12-29\r\n */\nimport React, { Component } from 'react'; // CSS\n\nimport '../../../css/EngineWindow.css'; // JS\n\nimport Engine from '../Engine';\n\nclass EngineWindow extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      canvasWidth: 100,\n      canvasHeight: 100\n    };\n    this.animationId = null;\n    this.engine = new Engine();\n  }\n\n  resizeCanvas() {\n    this.setState({\n      canvasWidth: this.engineWindowContainer.offsetWidth,\n      canvasHeight: this.engineWindowContainer.offsetHeight\n    });\n  }\n\n  componentDidMount() {\n    // The engine window container component is used for setting the size of the canvas\n    this.engineWindowContainer = document.getElementById(\"canvas-container\");\n    window.addEventListener(\"resize\", this.resizeCanvas.bind(this)); // Start the loop\n\n    this.startMainLoop();\n  }\n\n  componentWillUnmount() {\n    this.stopMainLoop();\n    window.removeEventListener(\"resize\", this.resizeCanvas.bind(this));\n  }\n\n  startMainLoop() {\n    // Set up the graphics engine (webgl context, shaders and draw scene objects)\n    this.engine.preload(); // Set to correct dimensions for canvas\n\n    this.resizeCanvas(); // Initiate the main loop\n\n    this.animationId = window.requestAnimationFrame(this.mainLoop.bind(this));\n  }\n\n  stopMainLoop() {\n    window.cancelAnimationFrame(this.animationId);\n    this.animationId = null;\n  }\n\n  mainLoop() {\n    this.animationId = window.requestAnimationFrame(this.mainLoop.bind(this));\n    this.engine.run();\n  }\n\n  render() {\n    let canvasStyle = {\n      width: this.state.canvasWidth,\n      height: this.state.canvasHeight\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"canvas-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      style: canvasStyle,\n      id: \"gl-canvas\",\n      width: this.state.canvasWidth,\n      height: this.state.canvasHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Your browser does not support HTML5\"), /*#__PURE__*/React.createElement(\"canvas\", {\n      style: canvasStyle,\n      id: \"text-canvas\",\n      width: this.state.canvasWidth,\n      height: this.state.canvasHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default EngineWindow;","map":{"version":3,"sources":["G:/DOKUMENT/Projekt/React/Waves/procedural-waves/src/js/bluebox/gui/EngineWindow.js"],"names":["React","Component","Engine","EngineWindow","constructor","props","state","canvasWidth","canvasHeight","animationId","engine","resizeCanvas","setState","engineWindowContainer","offsetWidth","offsetHeight","componentDidMount","document","getElementById","window","addEventListener","bind","startMainLoop","componentWillUnmount","stopMainLoop","removeEventListener","preload","requestAnimationFrame","mainLoop","cancelAnimationFrame","run","render","canvasStyle","width","height"],"mappings":";;AAAA;;;;AAKA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACA,OAAO,+BAAP,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,MAAMC,YAAN,SAA2BF,SAA3B,CAAqC;AACjCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,GADJ;AAETC,MAAAA,YAAY,EAAE;AAFL,KAAb;AAKA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,MAAL,GAAc,IAAIR,MAAJ,EAAd;AACH;;AAEDS,EAAAA,YAAY,GAAG;AACX,SAAKC,QAAL,CAAc;AACVL,MAAAA,WAAW,EAAE,KAAKM,qBAAL,CAA2BC,WAD9B;AAEVN,MAAAA,YAAY,EAAE,KAAKK,qBAAL,CAA2BE;AAF/B,KAAd;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB;AACA,SAAKH,qBAAL,GAA6BI,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAA7B;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,YAAL,CAAkBU,IAAlB,CAAuB,IAAvB,CAAlC,EAHgB,CAKhB;;AACA,SAAKC,aAAL;AACH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKC,YAAL;AACAL,IAAAA,MAAM,CAACM,mBAAP,CAA2B,QAA3B,EAAqC,KAAKd,YAAL,CAAkBU,IAAlB,CAAuB,IAAvB,CAArC;AACH;;AAEDC,EAAAA,aAAa,GAAG;AACZ;AACA,SAAKZ,MAAL,CAAYgB,OAAZ,GAFY,CAIZ;;AACA,SAAKf,YAAL,GALY,CAOZ;;AACA,SAAKF,WAAL,GAAmBU,MAAM,CAACQ,qBAAP,CAA8B,KAAKC,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAA9B,CAAnB;AACH;;AAEDG,EAAAA,YAAY,GAAG;AACXL,IAAAA,MAAM,CAACU,oBAAP,CAA6B,KAAKpB,WAAlC;AACA,SAAKA,WAAL,GAAmB,IAAnB;AACH;;AAEDmB,EAAAA,QAAQ,GAAG;AACP,SAAKnB,WAAL,GAAmBU,MAAM,CAACQ,qBAAP,CAA8B,KAAKC,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAA9B,CAAnB;AACA,SAAKX,MAAL,CAAYoB,GAAZ;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAIC,WAAW,GAAG;AACdC,MAAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWC,WADJ;AAEd2B,MAAAA,MAAM,EAAE,KAAK5B,KAAL,CAAWE;AAFL,KAAlB;AAKA,wBACI;AAAK,MAAA,EAAE,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAEwB,WAAf;AAA4B,MAAA,EAAE,EAAC,WAA/B;AAA2C,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,WAA7D;AAA0E,MAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,YAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CADJ,eAII;AAAQ,MAAA,KAAK,EAAEwB,WAAf;AAA4B,MAAA,EAAE,EAAC,aAA/B;AAA6C,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,WAA/D;AAA4E,MAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,YAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AASH;;AAtEgC;;AAyErC,eAAeL,YAAf","sourcesContent":["/**\r\n * Author: Per Blåwiik\r\n * Date: 2019-12-29\r\n */\r\n\r\nimport React, { Component } from 'react';\r\n\r\n// CSS\r\nimport '../../../css/EngineWindow.css';\r\n\r\n// JS\r\nimport Engine from '../Engine';\r\n\r\nclass EngineWindow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            canvasWidth: 100,\r\n            canvasHeight: 100\r\n        };\r\n\r\n        this.animationId = null;\r\n        this.engine = new Engine();\r\n    }\r\n\r\n    resizeCanvas() {\r\n        this.setState({\r\n            canvasWidth: this.engineWindowContainer.offsetWidth,\r\n            canvasHeight: this.engineWindowContainer.offsetHeight\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        // The engine window container component is used for setting the size of the canvas\r\n        this.engineWindowContainer = document.getElementById(\"canvas-container\");\r\n        window.addEventListener(\"resize\", this.resizeCanvas.bind(this));\r\n\r\n        // Start the loop\r\n        this.startMainLoop();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stopMainLoop();\r\n        window.removeEventListener(\"resize\", this.resizeCanvas.bind(this));\r\n    }\r\n\r\n    startMainLoop() {\r\n        // Set up the graphics engine (webgl context, shaders and draw scene objects)\r\n        this.engine.preload();\r\n\r\n        // Set to correct dimensions for canvas\r\n        this.resizeCanvas();\r\n\r\n        // Initiate the main loop\r\n        this.animationId = window.requestAnimationFrame( this.mainLoop.bind(this) );\r\n    }\r\n\r\n    stopMainLoop() {\r\n        window.cancelAnimationFrame( this.animationId );\r\n        this.animationId = null;\r\n    }\r\n\r\n    mainLoop() {\r\n        this.animationId = window.requestAnimationFrame( this.mainLoop.bind(this) );\r\n        this.engine.run();\r\n    }\r\n\r\n    render() {\r\n        let canvasStyle = {\r\n            width: this.state.canvasWidth,\r\n            height: this.state.canvasHeight\r\n        };\r\n\r\n        return (\r\n            <div id=\"canvas-container\">\r\n                <canvas style={canvasStyle} id=\"gl-canvas\" width={this.state.canvasWidth} height={this.state.canvasHeight}>\r\n                    Your browser does not support HTML5\r\n                </canvas>\r\n                <canvas style={canvasStyle} id=\"text-canvas\" width={this.state.canvasWidth} height={this.state.canvasHeight}>\r\n                </canvas>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EngineWindow;"]},"metadata":{},"sourceType":"module"}