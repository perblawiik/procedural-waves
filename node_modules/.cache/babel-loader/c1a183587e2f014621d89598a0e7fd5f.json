{"ast":null,"code":"class MouseEventHandler {\n  constructor(sceneObjects) {\n    this.mouseInputReader = {\n      leftClickIsActive: false,\n      moveX: 0,\n      moveY: 0,\n      altKey: false,\n      ctrlKey: false,\n      shiftKey: false,\n      selectedGameObjectIndex: 0,\n      selectedGameObjectAxis: null,\n      moveGameObjectX: 0,\n      moveGameObjectY: 0\n    };\n    this.sceneObjects = sceneObjects;\n    let canvas2D = document.getElementById('text-canvas');\n    canvas2D.addEventListener(\"mousedown\", this.mouseDownEvent(), false);\n    canvas2D.addEventListener(\"mouseup\", this.mouseUpEvent(), false);\n    canvas2D.addEventListener(\"mouseleave\", this.mouseLeaveEvent(), false);\n    canvas2D.addEventListener(\"mousemove\", this.mouseMove(), false);\n  }\n\n  mouseDownEvent(event) {\n    let mouseInput = this.mouseInputReader;\n    let objects = this.sceneObjects;\n\n    switch (event.which) {\n      case MouseKey.LEFT_CLICK:\n        mouseInput.leftClickIsActive = true;\n        mouseInput.altKey = event.altKey;\n        mouseInput.ctrlKey = event.ctrlKey;\n        mouseInput.shiftKey = event.shiftKey; // Extend the click box borders\n\n        let offset = 4;\n\n        for (let i = 0; i < objects.length; ++i) {\n          // Check if the coordinate system is visible\n          if (objects[i].localCoordinateSystemUI.isVisible) {\n            // Check if mouse is in the click box area\n            if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.xMax + offset && event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.xMin - offset && event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.yMax + offset && event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.yMin - offset) {\n              mouseInput.selectedGameObjectAxis = 'x';\n            } else if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMax + offset && event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMin - offset && event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.yMax + offset && event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.yMin - offset) {\n              mouseInput.selectedGameObjectAxis = 'y';\n            } else if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMax + offset && event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.xMin - offset && event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.yMax + offset && event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.yMin - offset) {\n              mouseInput.selectedGameObjectAxis = 'z';\n            }\n\n            mouseInput.selectedGameObjectIndex = i;\n          }\n        }\n\n        break;\n\n      case MouseKey.RIGHT_CLICK:\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  mouseUpEvent(event) {\n    let mouseInput = this.mouseInputReader;\n\n    switch (event.which) {\n      case MouseKey.LEFT_CLICK:\n        mouseInput.leftClickIsActive = false;\n        mouseInput.selectedGameObjectAxis = null;\n        break;\n\n      case MouseKey.RIGHT_CLICK:\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  mouseLeaveEvent(event) {}\n\n  mouseMove(event) {}\n\n}\n\nexport default MouseEventHandler;","map":{"version":3,"sources":["G:\\DOKUMENT\\Projekt\\React\\BlueBox\\client\\src\\js\\bluebox\\MouseEventHandler.js"],"names":["MouseEventHandler","constructor","sceneObjects","mouseInputReader","leftClickIsActive","moveX","moveY","altKey","ctrlKey","shiftKey","selectedGameObjectIndex","selectedGameObjectAxis","moveGameObjectX","moveGameObjectY","canvas2D","document","getElementById","addEventListener","mouseDownEvent","mouseUpEvent","mouseLeaveEvent","mouseMove","event","mouseInput","objects","which","MouseKey","LEFT_CLICK","offset","i","length","localCoordinateSystemUI","isVisible","offsetX","clickBoxAxisX","borders","xMax","xMin","offsetY","yMax","yMin","clickBoxAxisY","clickBoxAxisZ","RIGHT_CLICK"],"mappings":"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","sourcesContent":["\r\nclass MouseEventHandler {\r\n    constructor(sceneObjects) {\r\n        this.mouseInputReader = {\r\n            leftClickIsActive: false,\r\n            moveX: 0,\r\n            moveY: 0,\r\n            altKey: false,\r\n            ctrlKey: false,\r\n            shiftKey: false,\r\n            selectedGameObjectIndex: 0,\r\n            selectedGameObjectAxis: null,\r\n            moveGameObjectX: 0,\r\n            moveGameObjectY: 0\r\n        };\r\n\r\n        this.sceneObjects = sceneObjects;\r\n\r\n        let canvas2D = document.getElementById('text-canvas');\r\n        canvas2D.addEventListener(\"mousedown\", this.mouseDownEvent(), false);\r\n        canvas2D.addEventListener(\"mouseup\", this.mouseUpEvent(), false);\r\n        canvas2D.addEventListener(\"mouseleave\", this.mouseLeaveEvent(), false);\r\n        canvas2D.addEventListener(\"mousemove\", this.mouseMove(), false);\r\n    }\r\n\r\n    mouseDownEvent(event) {\r\n        let mouseInput = this.mouseInputReader;\r\n        let objects = this.sceneObjects;\r\n\r\n        switch(event.which) {\r\n            case MouseKey.LEFT_CLICK:\r\n                mouseInput.leftClickIsActive = true;\r\n                mouseInput.altKey = event.altKey;\r\n                mouseInput.ctrlKey = event.ctrlKey;\r\n                mouseInput.shiftKey = event.shiftKey;\r\n\r\n                // Extend the click box borders\r\n                let offset = 4;\r\n\r\n                for (let i = 0; i < objects.length; ++i) {\r\n                    // Check if the coordinate system is visible\r\n                    if (objects[i].localCoordinateSystemUI.isVisible) {\r\n                        // Check if mouse is in the click box area\r\n                        if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.xMax+offset &&\r\n                            event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.xMin-offset &&\r\n                            event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.yMax+offset &&\r\n                            event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisX.borders.yMin-offset) {\r\n\r\n                            mouseInput.selectedGameObjectAxis = 'x';\r\n                        }\r\n                        else if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMax+offset &&\r\n                            event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMin-offset &&\r\n                            event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.yMax+offset &&\r\n                            event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.yMin-offset) {\r\n\r\n                            mouseInput.selectedGameObjectAxis = 'y';\r\n                        }\r\n                        else if (event.offsetX <= objects[i].localCoordinateSystemUI.clickBoxAxisY.borders.xMax+offset &&\r\n                            event.offsetX >= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.xMin-offset &&\r\n                            event.offsetY <= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.yMax+offset &&\r\n                            event.offsetY >= objects[i].localCoordinateSystemUI.clickBoxAxisZ.borders.yMin-offset) {\r\n\r\n                            mouseInput.selectedGameObjectAxis = 'z';\r\n                        }\r\n\r\n                        mouseInput.selectedGameObjectIndex = i;\r\n                    }\r\n                }\r\n                break;\r\n            case MouseKey.RIGHT_CLICK:\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    mouseUpEvent(event) {\r\n        let mouseInput = this.mouseInputReader;\r\n\r\n        switch(event.which) {\r\n            case MouseKey.LEFT_CLICK:\r\n                mouseInput.leftClickIsActive = false;\r\n                mouseInput.selectedGameObjectAxis = null;\r\n                break;\r\n            case MouseKey.RIGHT_CLICK:\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    mouseLeaveEvent(event) {\r\n\r\n    }\r\n\r\n    mouseMove(event) {\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default MouseEventHandler;"]},"metadata":{},"sourceType":"module"}